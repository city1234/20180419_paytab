webpackJsonp([12],{"+z8H":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return this.payType&&0!==this.nowBankType?e("div",{staticClass:"depositMain"},[e("dl",{staticClass:"rechargebox"},[e("dd",[e("div",{staticClass:"item-input"},[e("span",{staticClass:"itemTxt"},[t._v("充值金额")]),t._v(" "),e("div",{staticClass:"specialbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"typeinput input-one",attrs:{type:"tel",placeholder:t.place,maxlength:"10"},domProps:{value:t.amount},on:{input:[function(a){a.target.composing||(t.amount=a.target.value)},function(a){t.inputMoney(t.amount)}]}}),t._v(" "),void 0!==this.payType.merchant&&1===this.payType.merchant.isDecimal?e("span",{staticClass:"Tspe"},[t._v(t._s(t.amountPoint))]):t._e()])]),t._v(" "),t.amountErrFlag?e("p",{staticClass:"depTips red"},[t._v(t._s(this.amountErrMsg))]):t._e(),t._v(" "),void 0!==this.payType.merchant&&1===this.payType.merchant.isDecimal?e("p",{staticClass:"depTips PaleOrange"},[t._v("为了更快速到账，存款时，自动生成"),e("em",[t._v("0"+t._s(t.amountPoint))]),t._v("元")]):t._e()]),t._v(" "),e("dd",{directives:[{name:"show",rawName:"v-show",value:t.discountFun,expression:"discountFun"}]},[e("div",{staticClass:"item-input"},[e("span",{staticClass:"itemTxt"},[t._v("申请优惠")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],staticClass:"typeselect select-one",staticStyle:{"padding-left":"0px"},attrs:{disabled:t.applyDiscount},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.discount=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"1"}},[t._v("申请")]),t._v(" "),e("option",{attrs:{value:"0"}},[t._v("不申请")])]),t._v(" "),e("p",{staticClass:"depTips red"},[t._v("优惠"),e("em",[t._v(t._s(t.offer))]),t._v("，"),e("em",[t._v(t._s(this.payType.codeMultiple))]),t._v("倍打码")])])])]),t._v(" "),3!==t.nowBankType?e("div",[e("h2",{staticClass:"yo-headline2"},[t._v("选择支付类型")]),t._v(" "),e("div",{staticClass:"payitembox"},[e("dl",{staticClass:"paytype"},[t._l(t.depositList,function(a,i){return null!==a.merchant&&void 0!==a.merchant?e("dd",{key:i,on:{click:function(e){t.choosePay(a)}}},[e("div",{staticClass:"payImg"},[e("img",{attrs:{src:t.payMent.payType[a.banktype].img}})]),t._v(" "),e("span",{staticClass:"txt-list"},[t._v(t._s(t.payMent.payType[a.banktype].bankName))]),t._v(" "),e("span",{staticClass:"radio_span"},[e("i",{staticClass:"yo-icon",class:t.nowBankType===a.banktype?"icon-radio-yes":"icon-radio-no"})])]):t._e()}),t._v(" "),e("dd",{on:{click:function(a){t.payBank()}}},[e("div",{staticClass:"payImg"},[e("img",{attrs:{src:t.commonImgUrl+"/member/other.png"}})]),t._v(" "),e("span",{staticClass:"txt-list"},[t._v("其他方式大额转账")]),t._v(" "),t._m(0)])],2)])]):t._e(),t._v(" "),3===t.nowBankType?e("onlineBank"):t._e(),t._v(" "),e("div",{staticClass:"yo-pad10"},[e("button",{staticClass:"yo-anOne button",attrs:{type:"button"},on:{click:function(a){t.payResult()}}},[t._v("确认")])]),t._v(" "),e("listDeposit")],1):t._e()},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"radio_span"},[e("i",{staticClass:"yo-icon icon-arrows-right"})])}],s={render:i,staticRenderFns:n};a.a=s},"7r6i":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.official&&t.official.contextSim?e("div",{staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"payitembox2 yo-pad10",domProps:{innerHTML:t._s(t.official.contextSim)}})]):t._e()},n=[],s={render:i,staticRenderFns:n};a.a=s},DP7G:function(t,a,e){"use strict";var i=e("OBYt");a.a={data:function(){return{payMent:i}},methods:{setScrollRefreshTime:function(){this.$store.state.home.scrollRefreshTime=(new Date).getTime()}},computed:{nowBankType:function(){return this.$store.state.payment.bankType},official:function(){return this.$store.state.payment.official}}}},MG73:function(t,a,e){"use strict";a.a={data:function(){return{openBank:!1,bankName:"",bankKey:""}},methods:{setBank:function(t){this.bankName=t.bankName,this.bankKey=t.bankKey},closeBank:function(){this.openBank=!1,window.indexMain.appHiddenOverflow(!1),this.$store.state.payment.bankkey=this.bankKey},openBankFun:function(){if(this.payType.merchant.bankStatusList.length>0){this.openBank=!0,window.indexMain.appHiddenOverflow(!0);var t=window.$('[attr-div="bankList"]');t[0]&&!t.parent().is(window.$("body"))&&(window.$("body").append(t),window.mountedRemoveDoms.push(t),t=null)}else window.layer.msgWarn("没有可选择的银行，请联系客服！")}},computed:{bankkey:function(){return this.$store.state.payment.bankkey},payType:function(){return this.$store.state.payment.payType}},mounted:function(){window.indexMain.mountedRemoveDoms()},created:function(){void 0!==this.payType.merchant.bankStatusList&&this.payType.merchant.bankStatusList.length>0&&(this.bankName=this.payType.merchant.bankStatusList[0].bankName,this.bankKey=this.payType.merchant.bankStatusList[0].bankKey,this.$store.state.payment.bankkey=this.payType.merchant.bankStatusList[0].bankKey)}}},YMeO:function(t,a,e){"use strict";var i=e("DP7G"),n=e("7r6i"),s=e("VU/8"),o=s(i.a,n.a,!1,null,null,null);a.a=o.exports},oBUA:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h2",{staticClass:"yo-headline2"},[t._v("选择支付银行")]),t._v(" "),e("div",{staticClass:"payitembox"},[e("dl",{staticClass:"paytype"},[e("dd",{on:{click:function(a){t.openBankFun()}}},[e("h6",{staticClass:"banktitle"},[t._v("支付银行：")]),t._v(" "),t._m(0),t._v(" "),e("span",{staticClass:"paybankName"},[t._v(t._s(this.bankName))])])])]),t._v(" "),e("div",{staticClass:"wrapper2",staticStyle:{"margin-bottom":"-44px"},attrs:{pageId:"live"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.openBank,expression:"openBank"}],staticClass:"TipsWindown",attrs:{"attr-div":"bankList"}},[e("div",{staticClass:"shadeIn"},[e("div",{staticClass:"selBankBox"},[e("h1",[t._v("您所使用的银行卡"),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.closeBank()}}},[t._v("完成")])]),t._v(" "),e("dl",t._l(t.payType.merchant.bankStatusList,function(a,i){return e("dt",{key:i,on:{click:function(e){t.setBank(a)}}},[e("span",[t._v(t._s(a.bankName))]),t._v(" "),e("i",{staticClass:"yo-icon",class:t.bankKey===a.bankKey?"icon-radio-yes":"icon-radio-no"})])}))])])])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"radio_span yo-arrri"},[e("i",{staticClass:"yo-icon icon-arrows-right"})])}],s={render:i,staticRenderFns:n};a.a=s},oakV:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("xw0M"),n=e("+z8H"),s=e("VU/8"),o=s(i.a,n.a,!1,null,null,null);a.default=o.exports},xhmH:function(t,a,e){"use strict";var i=e("MG73"),n=e("oBUA"),s=e("VU/8"),o=s(i.a,n.a,!1,null,null,null);a.a=o.exports},xw0M:function(t,a,e){"use strict";var i=e("xhmH"),n=e("YMeO"),s=e("OBYt"),o=e("yXd2"),p=e("BS2w");a.a={components:{onlineBank:i.a,listDeposit:n.a},data:function(){return{payMent:s,amount:null,amountErrFlag:!1,amountErrMsg:"",amountPoint:0,initialMin:.1,initialMax:.49,initialMinute:10,offer:0,ifFlag:!1,discount:1,isOutreach:"",isOpen:!0,qitaNew:!0}},watch:{$route:function(t){this.amountErrFlag=!1,this.initAmtPoint(),this.amount=null,this.offer=0,this.ifFlag=!1,this.discount=1}},methods:{inputMoney:function(t){if(""!==t){var a=t.replace(/[^0-9]+/g,"");this.amount=Number(a);var e=parseFloat("0"+this.amountPoint);e=0===this.payType.merchant.isDecimal||""===this.payType.merchant.isDecimal?0:e;var i=parseFloat(this.amount)+e,n=i*parseFloat(this.payType.percentageDiscount)/100,s=this.payType.haveDiscountTimes,o=this.payType.discountTimes,p=this.payType.auditDiscountStandard,r=this.payType.quantitySet.preRatioOnline,c=this.payType.preUp,u=this.payType.quantitySet.minDepositOnline,y=this.payType.quantitySet.highDepositOnline;if(c<=n&&(n=c),0===o||"0"===o?n=(0===s||"0"===s)&&parseFloat(i)>=p?i*parseFloat(this.payType.percentageDiscount)/100:0:1!==o&&"1"!==o||(parseFloat(i)>=p&&r>=parseInt(s)+1?(n=i*parseFloat(this.payType.percentageDiscount)/100,parseInt(i)>parseInt(y)&&(n=y*parseFloat(this.payType.percentageDiscount)/100)):n=0),c<=n&&(n=c),n>=0&&(this.offer=this.round2(n,2)),void 0!==this.offer){if(""===this.offer)return"";var l=this.amount,h=parseFloat(0===this.payType.merchant.isDecimal||""===this.payType.merchant.isDecimal?1e-4:-.5);h=parseFloat(parseFloat(y)+parseFloat(h)),parseFloat(l)>h?(this.amountErrMsg="最高金额"+y,this.amountErrFlag=!0):parseFloat(l)<parseFloat(u)?(this.amountErrMsg="最低金额"+u,this.amountErrFlag=!0):(this.amountErrFlag=!1,this.amountErrMsg="")}}},choosePay:function(t){this.$store.commit("payment.payType",t),this.$store.commit("payment.bankType",t.banktype),this.amount="",this.amountErrFlag=!1,this.offer=0,this.initAmtPoint()},initAmtPoint:function(){if(this.ifFlag=o.e(),this.ifFlag)this.changeAmtPoint();else{var t=o.b("val");o.d(t)?this.changeAmtPoint():this.putAmtPoint(t)}},changeAmtPoint:function(){this.amountPoint=o.f(this.initialMin,this.initialMax),o.g("val",this.amountPoint,"d1000"),this.tipMoney()},putAmtPoint:function(t){this.amountPoint=t,o.g("val",t,"d1000"),this.tipMoney()},tipMoney:function(){if(void 0!==this.payType.merchant){var t=parseFloat("0"+this.amountPoint);t=0===this.payType.merchant.isDecimal||""===this.payType.merchant.isDecimal?0:t;var a=parseFloat(this.amount)+t,e=a*parseFloat(this.payType.percentageDiscount)/100;e=this.round2(e,2),this.isFlag&&this.payType.merchant.quota>=a&&a>=this.payType.quantitySet.minDepositOnline&&(this.offer=e,this.isFlag=!1)}},round2:function(t,a){var e=parseFloat(t);return isNaN(e)&&(e=0),e.toFixed(2)},payBank:function(){var t=0,a=[];if(a.push(this.depositMap.bankPay),this.$store.state.payment.depositList=a,this.$store.state.payment.offlineDepositSteps=0,this.$store.state.payment.official={},this.payMentList.offlineDepositBank||0!==t||(this.payMentList.offlineDepositAli?t=38:this.payMentList.offlineDepositWechat&&(t=55)),this.$store.state.payment.bankType=t,void 0!==this.listDeposit)for(var e=0;e<this.listDeposit.list.length;e++){var i=this.listDeposit.list[e];if(i.code===s.payType[t].depositCode&&1===i.auditingStatus){this.$store.state.payment.official=i;break}}for(var n=0;n<this.companyAccount.length;n++){if(0===t&&-1===s.otherOfflineDeposit.indexOf(this.companyAccount[n].bankId)){this.$store.state.payment.offlineDeposit=this.companyAccount[n];break}if(38===t&&38===this.companyAccount[n].bankId){this.$store.state.payment.offlineDeposit=this.companyAccount[n];break}if(55===t&&55===this.companyAccount[n].bankId){this.$store.state.payment.offlineDeposit=this.companyAccount[n];break}}window.router.push("/wap/payment/bankPay?bankType=0")},payResult:function(){var t=this;if(this.isOpen){if(null===this.amount||""===this.amount||!1===/^\d+\.?\d{0,2}$/.test(this.amount))return window.layer.msgWarn("请您输入充值金额！"),!1;var a=parseFloat(this.payType.quantitySet.minDepositOnline),e=parseFloat(this.payType.quantitySet.highDepositOnline);if(this.amount=parseFloat(this.amount),1===this.payType.merchant.isDecimal&&(a-1e-4>=this.amount||this.amount>=e-.5))return window.layer.msgWarn("您输入的金额有误！"),!1;if(this.amount>e||this.amount<a)return window.layer.msgWarn("您输入的金额有误！"),!1;if("2"===this.type)return window.layer.msgWarn("线上充值不对测试账号开放！"),!1;""!==this.bankkey&&null!==this.bankkey&&void 0!==this.bankkey||(this.$store.state.payment.bankkey=this.payMent.payType[this.nowBankType].bankKey);var i={youhui:this.discount,amount:this.amount,amountPoint:0===this.payType.merchant.isDecimal?0:this.amountPoint,bankkey:this.bankkey,banktype:this.nowBankType,isOutreach:this.payType.merchant.isOutreach,merchantId:this.payType.merchant.id};this.$store.dispatch(p.q,i).then(function(a){if("1"!==a.status)return window.layer.msgWarn("当前支付出现问题，请联系客服！"),!1;window.store.state.payment.payResult=a.data,t.$router.push("/wap/payResult")}).catch(function(t){}),this.isOpen=!1,setTimeout(function(){t.isOpen=!0},1500)}}},computed:{nowBankType:function(){return this.$store.state.payment.bankType},payType:function(){return this.$store.state.payment.payType},bankkey:function(){return this.$store.state.payment.bankkey},depositList:function(){return this.$store.state.payment.depositList},type:function(){return this.$store.state.home.type},depositMap:function(){return this.$store.state.payment.depositMap},payMentList:function(){return this.$store.state.payment.payMentList},listDeposit:function(){return this.$store.state.payment.listDeposit},companyAccount:function(){return this.$store.state.payment.companyAccount},discountFun:function(){var t=this.payType.discountTimes,a=this.payType.haveDiscountTimes;if(0===t||"0"===t)return"0"===a;if(1===t||"1"===t){return!(this.payType.quantitySet.preRatioOnline<parseInt(a)+1)}},place:function(){return null!==this.payType.quantitySet&&void 0!==this.payType.quantitySet?this.payType.quantitySet.minDepositOnline+"-"+this.payType.quantitySet.highDepositOnline:null},applyDiscount:function(){return"0"===this.payType.preDepositStatusOnline},commonImgUrl:function(){return this.$store.state.home.commonImgUrl}},mounted:function(){this.initAmtPoint()}}}});