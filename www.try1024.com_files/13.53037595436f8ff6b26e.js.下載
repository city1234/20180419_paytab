webpackJsonp([13],{BO1k:function(t,e,s){t.exports={default:s("fxRn"),__esModule:!0}},Lhat:function(t,e,s){"use strict";var o=s("Zrlr"),a=s.n(o),i=s("wxAW"),n=s.n(i),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1];a()(this,t),this.options=e}return n()(t,[{key:"init",value:function(t){t.modalOptions=""}},{key:"hide",value:function(t){t.modalOptions="animated fadeOutDownBig",setTimeout(function(){},520)}},{key:"show",value:function(t){t.modalOptions="",t.modalOptions="active animated fadeInUpBig"}}]),t}();e.a=r},Mhsa:function(t,e,s){"use strict";function o(t){s("SeCw")}Object.defineProperty(e,"__esModule",{value:!0});var a=s("e7E8"),i=s("OJf0"),n=s("VU/8"),r=o,c=n(a.a,i.a,!1,r,null,null);e.default=c.exports},OJf0:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"yo-page-body"},[s("div",{staticClass:"header yo-home-nav"},[s("div",{staticClass:"center"},[s("div",{staticClass:"hea-menu hea-left"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.goback()}}},[s("i",{staticClass:"yo-icon icon-arrows-left"})])]),t._v(" "),s("div",{staticClass:"header-text titile"},[s("h1",[t._v("消息记录 "),t.$store.state.home.isOffLine?s("span",[t._v("(未连接)")]):t._e()])]),t._v(" "),s("div",{staticClass:"hea-user hea-right"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.GoHome()}}},[s("i",{staticClass:"yo-icon icon-house"})])])])]),t._v(" "),s("div",{staticClass:"tab-nav stripedMenu fixationNav"},[s("ul",{staticClass:"navigation"},[s("li",{class:{active:"msg"===t.cur},on:{click:function(e){t.changeMessage("msg")}}},[s("a",{attrs:{href:"javascript:;"}},[t._v("个人消息")])]),t._v(" "),s("li",{class:{active:"hotNews"===t.cur},on:{click:function(e){t.changeMessage("hotNews")}}},[s("a",{attrs:{href:"javascript:;"}},[t._v("最新消息")])]),t._v(" "),s("li",{class:{active:"hotHistory"===t.cur},on:{click:function(e){t.changeMessage("hotHistory")}}},[s("a",{attrs:{href:"javascript:;"}},[t._v("历史消息")])])])]),t._v(" "),s("div",{staticClass:"centerBox mainCenterTwo"},[s("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"auto-fill":!1,"bottom-all-loaded":t.allLoaded},on:{"top-status-change":t.handleTopChange}},[s("dl",{staticClass:"messaList"},[t._l(t.msg,function(e,o){return s("dd",{directives:[{name:"show",rawName:"v-show",value:"msg"===t.cur,expression:"cur === 'msg'"}],key:"msg_"+o,on:{click:function(s){t.GoMessageDetails("msg",e)}}},[s("p",{staticClass:"item-note item-time msg-time"},[t._v(t._s(e.createDateTime||e.sendDateTime))]),t._v(" "),s("h3",{staticClass:"recordTitle",class:{red:!e.isRead}},[t._v(t._s(t._f("subContentMsg")(e.gbkSubject)))]),t._v(" "),s("p",[t._v(t._s(t._f("subContentMsg")(e.gbkContent)))])])}),t._v(" "),t._l(t.hotNewList,function(e,o){return s("dd",{directives:[{name:"show",rawName:"v-show",value:"hotNews"===t.cur,expression:"cur === 'hotNews'"}],key:"howNewList_"+o,on:{click:function(s){t.GoMessageDetails("hotNew",e)}}},[s("h3",{staticClass:"recordTitle"},[t._v(t._s(e.title))]),t._v(" "),s("p",[t._v(t._s(t._f("subContentMsg")(e.gbkContent)))]),t._v(" "),s("span",{staticClass:"item-note item-time"},[t._v(t._s(e.createDateTime))])])}),t._v(" "),t._l(t.hotHistory,function(e,o){return s("dd",{directives:[{name:"show",rawName:"v-show",value:"hotHistory"===t.cur,expression:"cur === 'hotHistory'"}],key:"hotHistory_"+o,on:{click:function(s){t.GoMessageDetails("hotHistory",e)}}},[s("h3",{staticClass:"recordTitle"},[t._v(t._s(e.title))]),t._v(" "),s("p",[t._v(t._s(t._f("subContentMsg")(e.gbkContent)))]),t._v(" "),s("span",{staticClass:"item-note item-time"},[t._v(t._s(e.createDateTime))])])}),t._v(" "),s("dd",{directives:[{name:"show",rawName:"v-show",value:"msg"===t.cur&&t.msg.length>=5,expression:"cur === 'msg' && msg.length >= 5"}],staticStyle:{height:"60px"}}),t._v(" "),s("dd",{directives:[{name:"show",rawName:"v-show",value:"hotNews"===t.cur&&t.hotNewList.length>=5,expression:"cur === 'hotNews' && hotNewList.length >= 5"}],staticStyle:{height:"60px"}}),t._v(" "),s("dd",{directives:[{name:"show",rawName:"v-show",value:"hotHistory"===t.cur&&t.hotHistory.length>=5,expression:"cur === 'hotHistory' && hotHistory.length >= 5"}],staticStyle:{height:"60px"}})],2),t._v(" "),s("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.topStatus,expression:"topStatus !== 'loading'"}],class:{rotate:"drop"===t.topStatus}},[s("i",{staticClass:"yo-icon icon-load-top"}),t._v(" "),s("em",[t._v("松开刷新....")])]),t._v(" "),s("mt-spinner",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}],attrs:{color:"#585252",type:3}})],1)])],1),t._v(" "),t.modalFlag?s("div",{staticClass:"floatPages",class:t.modalOptions,attrs:{modal:""}},[s("div",{staticClass:" header yo-home-nav floatheader"},[s("div",{staticClass:"center"},[s("div",{staticClass:"header-text titile"},[s("i",{staticClass:"yo-icon icon-arrows-left",on:{click:function(e){t.modalHide()}}}),t._v(" "),s("h1",[t._v("消息详情")])])])]),t._v(" "),s("div",{staticClass:"wrapper indexCenter2"},[s("div",{staticClass:"yo-pad10"},[s("div",{staticClass:"messDetails f14"},[s("h1",[t._v(t._s(t.modalContent.title))]),t._v(" "),s("div",{staticClass:"news-time ng-binding"},[t._v(t._s(t.modalContent.time))]),t._v(" "),s("div",{staticClass:"yo-font-message"},[t._v(t._s(t.modalContent.txt))])])])]),t._v(" "),"msg"===t.cur?s("div",{staticClass:"yo-anniu-message"},[s("a",{staticClass:"button",attrs:{href:"javascript:;"},on:{click:function(e){t.msgRemove()}}},[t._v("删除")])]):t._e()]):t._e()])},a=[],i={render:o,staticRenderFns:a};e.a=i},SeCw:function(t,e,s){var o=s("rotz");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);s("rjj0")("d0cf392c",o,!0,{})},e7E8:function(t,e,s){"use strict";var o=s("BO1k"),a=s.n(o),i=s("7+uW"),n=s("Lhat"),r=s("Au9i"),c=(s.n(r),s("qNyJ"));i.default.component(r.Spinner.name,r.Spinner),i.default.component(r.Loadmore.name,r.Loadmore),e.a={data:function(){return{cur:"hotNews",topStatus:"",modalContent:{},allLoaded:!0,modalOptions:"",modalFlag:!1}},mounted:function(){this.modal=new n.a,this.modal.init(this)},computed:{hotNewList:function(){var t=[],e=this.$store.state.message.hotNews||[],s=!0,o=!1,i=void 0;try{for(var n,r=a()(e);!(s=(n=r.next()).done);s=!0){var c=n.value;c&&void 0!==c.gbkContent&&""!==c.gbkContent&&t.push(c)}}catch(t){o=!0,i=t}finally{try{!s&&r.return&&r.return()}finally{if(o)throw i}}return t},msg:function(){var t=[],e=this.$store.state.message.msg||[],s=!0,o=!1,i=void 0;try{for(var n,r=a()(e);!(s=(n=r.next()).done);s=!0){var c=n.value;c&&void 0!==c.gbkSubject&&""!==c.gbkSubject&&void 0!==c.gbkContent&&""!==c.gbkContent&&t.push(c)}}catch(t){o=!0,i=t}finally{try{!s&&r.return&&r.return()}finally{if(o)throw i}}return t},hotHistory:function(){var t=[],e=this.$store.state.message.hotHistory||[],s=!0,o=!1,i=void 0;try{for(var n,r=a()(e);!(s=(n=r.next()).done);s=!0){var c=n.value;c&&void 0!==c.gbkContent&&""!==c.gbkContent&&t.push(c)}}catch(t){o=!0,i=t}finally{try{!s&&r.return&&r.return()}finally{if(o)throw i}}return t}},methods:{handleTopChange:function(t){this.topStatus=t},loadTop:function(){this.loadData(),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){this.$refs.loadmore.onBottomLoaded()},loadData:function(){this.getList(this.cur)},getList:function(t){var e=this;this.$store.dispatch(c.a,{msgType:t,loading:"pass"}).then(function(s){e.$set(e.$store.state.message,t,s.data.memberMessageList)})},modalShow:function(t){this.$set(this.modalContent,"original",t),this.$set(this.modalContent,"title",t.gbkSubject),this.$set(this.modalContent,"txt",t.gbkContent),this.$set(this.modalContent,"time",t.createDateTime?t.createDateTime:t.sendDateTime),this.modal.show(this)},modalHide:function(){this.modalFlag=!1},changeMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.cur===t&&!e)return!1;this.$set(this,"cur",t),this.getList(this.cur)},goback:function(){this.$router.go(-1)},GoHome:function(){this.$router.push("/wap/index")},GoMessageDetails:function(t,e){this.modalFlag=!0,this.modalShow(e),"msg"===t&&this.msgRead(e)},msgRemove:function(){var t=this,e=this;window.layer.confirm("确定删除?",function(){t.$store.dispatch(c.c,{opType:"delete",msgId:e.modalContent.original.id}).then(function(t){window.layer.msgWarn("删除成功!",function(){window.layer.close(),e.modalHide()}),setTimeout(function(){e.changeMessage("msg","$GET")},200)})})},msgRead:function(t){if(t.isRead)return!1;var e=this;this.$store.dispatch(c.c,{opType:"update",msgId:t.id,loading:"pass"}).then(function(t){setTimeout(function(){e.changeMessage("msg","$GET")},300)})}},created:function(){this.getList("hotNews")}}},fxRn:function(t,e,s){s("+tPU"),s("zQR9"),t.exports=s("g8Ux")},g8Ux:function(t,e,s){var o=s("77Pl"),a=s("3fs2");t.exports=s("FeBl").getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},rotz:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,".mint-loadmore-top .mint-spinner-fading-circle{margin-left:45%}","",{version:3,sources:["/home/jenkins/workspace/UAT2_PATCH_gpo_mobile/SRC/gpo_mobile/src/components/memberCenter/message.vue"],names:[],mappings:"AACA,+CACE,eAAiB,CAClB",file:"message.vue",sourcesContent:["\n.mint-loadmore-top .mint-spinner-fading-circle {\n  margin-left: 45%;\n}\n"],sourceRoot:""}])}});