webpackJsonp([29],{D6r2:function(t,e,o){"use strict";var s=o("mvHQ"),i=o.n(s),a=o("xsq1"),n=o("S5OR"),r=o("2uFj");e.a={data:function(){return{validCodeSrc:"",account:"",password:"",checkCode:"",showPassword:!1,showCheckCode:!1,indexs:r}},components:{},computed:{onloginLogo:function(){return this.$store.state.preView.loginLogo.mobLogoCpicSim?this.$store.state.preView.loginLogo.mobLogoCpicSim:window.store.state.home.mobHeadLogo},onLineService:function(){return this.$store.state.home.onlineservice},shopaddr:function(){return this.$store.state.home.shopaddr},sessionId:function(){return this.$store.state.home.sessionId},staticDomain:function(){return this.$store.state.home.staticDomain},mobHeadLogo:function(){return this.$store.state.home.mobHeadLogo},mobLoginLogo:function(){return this.$store.state.home.mobLoginLogo},isPreview:function(){return this.$store.state.preView.isPreview},mobAd:function(){return this.$store.state.home.mobAd},gameNoticeItem:function(){var t={};if(1===this.isPreview){var e=this.$store.state.preView.popupAds.articleVo;e.section&&"mobAd"===e.section.sectionType&&(t=e.photoDocList[0])}else if(void 0!==this.mobAd)for(var o=0;o<this.mobAd.length;o++)t=this.mobAd[0];return t},commonImgUrl:function(){return this.$store.state.home.commonImgUrl}},mounted:function(){this.$store.state.home.isLogin&&this.GoHome(),"showCheckCode"===localStorage.getItem("showCheckCode")&&(this.showCheckCode=!0)},methods:{GoHome:function(){this.$router.push("/wap/index")},loginFree:function(){var t=this;this.$store.dispatch(a.k,{}).then(function(e){if(e.status===n.a.SUCCESS){t.$store.state.site.nowPosition=0;var o=window.indexMain.versionFun("initData","homeVersionKey");t.$store.dispatch("initData.action",o),window.layer.msgWarn("您已进入试玩模式，请尽情体验！！",function(){t.$router.push("/wap/index"),t.$store.state.home.mgGameData=[],t.$store.state.home.ptGameData=[],t.$store.state.home.nmgGameData=[],t.$store.state.home.userInfo.money=e.data.money})}})},validCheckCode:function(){var t=this;window.$.ajax({type:"post",url:"/api/wap/wapLogin/getLoginFailTimes?t="+(new Date).getTime(),dataType:"json",contentType:"application/json",data:i()({accountAllVo:{account:this.account}}),success:function(e){e.status===n.a.SUCCESS&&e.data>2&&(t.showCheckCode=!0,localStorage.setItem("showCheckCode","showCheckCode"))}})},login:function(){var t=this;return this.account?this.password?this.password.length<6?void window.layer.msgWarn("密码长度不能少于6个字元"):this.showCheckCode&&!this.checkCode?void window.layer.msgWarn("验证码未填写！"):void this.$store.dispatch(a.h,{accountAllVo:{account:this.account,password:this.password},zhuceYm:this.checkCode}).then(function(e){if(e.status===n.a.SUCCESS){t.mobAd&&(t.$store.state.site.openOuterlayer=!0,t.$store.state.site.outerlayerType=t.indexs.outerlayerType.announcement),t.$router.push("/wap/index"),t.$store.state.home.mgGameData=[],t.$store.state.home.ptGameData=[];var o=window.indexMain.versionFun("initData","homeVersionKey");t.$store.dispatch("initData.action",o),localStorage.removeItem("showCheckCode")}else e.data>2&&(t.showCheckCode=!0,localStorage.setItem("showCheckCode","showCheckCode"))}):void window.layer.msgWarn("密码未填写！"):void window.layer.msgWarn("用户名未填写！")},forgetPassword:function(){this.$router.push("/wap/forgetPassword")},inputclick:function(){this.validCodeSrc||this.changeVCode()},changeVCode:function(){this.validCodeSrc="/validCode?t="+Math.random()},passwordInput:function(t){this.password=t.currentTarget.value},toLowerCaseStr:function(){var t=event.currentTarget.value,e=t.replace(/[^0-9a-zA-Z]+/g,"");this.account=""===e?"":e,this.account=this.account.toLowerCase()},gotoRegister:function(){this.$router.push("/wap/register")},goToWechat:function(){"micromessenger"===navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?window.location.href="https://"+this.shopaddr+"/weixin/waploginjump?state="+this.sessionId+"&referer="+encodeURIComponent(document.URL):window.location.href="https://"+this.shopaddr+"/weixin/loginjump?state="+this.sessionId+"&referer="+encodeURIComponent(document.URL)}}}},HDMK:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{background:"#fff",width:"100%",height:"100vh"}},[o("div",{staticClass:"header yo-home-nav"},[o("div",{staticClass:"center"},[o("div",{staticClass:"hea-menu hea-left"},[o("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.GoHome()}}},[o("span",[t._v("首页")])])]),t._v(" "),o("div",{staticClass:"header-text titile"},[t.mobHeadLogo&&t.mobHeadLogo[0]?o("img",{attrs:{src:t.staticDomain+t.mobHeadLogo[0].cpicSim}}):t._e()]),t._v(" "),o("div",{staticClass:"hea-user hea-right"},[o("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.loginFree()}}},[o("i",{staticClass:"yo-icon icon-user"}),o("span",[t._v("试玩")])])])])]),t._v(" "),o("div",{staticClass:"wrapper",staticStyle:{background:"#fff"}},[o("div",{staticClass:"yo-main"},[o("div",{staticClass:"logo"},[t.onloginLogo&&4==t.isPreview?o("img",{attrs:{src:t.staticDomain+t.onloginLogo}}):t._e(),t._v(" "),4!=t.isPreview&&t.mobLoginLogo&&t.mobLoginLogo[0]?o("img",{attrs:{src:t.staticDomain+t.mobLoginLogo[0].cpicSim}}):t._e()]),t._v(" "),o("div",{staticClass:"yo-login"},[o("div",{staticClass:"getSpace"},[o("div",{staticClass:"yo-in-box in-ues"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入账号",maxlength:"12"},domProps:{value:t.account},on:{input:[function(e){e.target.composing||(t.account=e.target.value)},function(e){t.toLowerCaseStr(e)}],blur:function(e){t.validCheckCode()}}}),t._v(" "),o("img",{staticClass:"imgEvents",attrs:{src:t.commonImgUrl+"/common/in-remove.png"},on:{click:function(e){t.account="",t.password=""}}})]),t._v(" "),o("div",{staticClass:"yo-in-box in-suo"},[t.showPassword?o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"请输入密码",maxlength:"12"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码",maxlength:"12"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),o("img",{staticClass:"eyes imgEvents",attrs:{src:t.showPassword?t.commonImgUrl+"/common/in-seeing.png":t.commonImgUrl+"/common/in-see.png"},on:{click:function(e){t.showPassword=!t.showPassword}}})]),t._v(" "),t.showCheckCode?o("div",{staticClass:"yo-in-box in-yzm"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.checkCode,expression:"checkCode"}],attrs:{type:"text",placeholder:"请输入验证码",maxlength:"12"},domProps:{value:t.checkCode},on:{click:function(e){t.inputclick()},input:function(e){e.target.composing||(t.checkCode=e.target.value)}}}),t._v(" "),o("img",{staticClass:"yzms imgEvents",attrs:{src:"/api/wap/wapLogin/validCode?t="+t.validCodeSrc},on:{click:function(e){t.changeVCode()}}})]):t._e()]),t._v(" "),o("a",{staticClass:"yo-but",on:{click:function(e){t.login()}}},[t._v("立即登录")]),t._v(" "),o("div",{staticClass:"yo-fuzhu"},[o("ul",[o("li",[o("a",{staticClass:"ljzc",attrs:{href:"javascript:;",title:""},on:{click:function(e){t.gotoRegister()}}},[t._v("立即注册")])]),t._v(" "),o("li",[o("a",{staticClass:"wjmm",attrs:{href:"javascript:;",title:""},on:{click:function(e){t.forgetPassword()}}},[t._v("忘记密码")])]),t._v(" "),o("li",[o("a",{staticClass:"zxkf",attrs:{href:void 0===t.onLineService?"javascript:void(0)":t.onLineService.junctionSim,title:""}},[t._v("在线客服")])])])])])]),t._v(" "),o("footer",{directives:[{name:"show",rawName:"v-show",value:""!==this.shopaddr,expression:"this.shopaddr !== ''"}],staticClass:"thirdparty"},[o("fieldset",[o("legend",{attrs:{align:"center"}},[t._v("第三方登录")]),t._v(" "),o("a",{staticClass:"wechat activated",attrs:{href:"javascript:;"},on:{click:function(e){t.goToWechat()}}},[t._v("微信")])])])])])},i=[],a={render:s,staticRenderFns:i};e.a=a},Luci:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("D6r2"),i=o("HDMK"),a=o("VU/8"),n=a(s.a,i.a,!1,null,null,null);e.default=n.exports}});